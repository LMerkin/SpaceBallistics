// vim:syntax=cpp:ts=2:et
/*--------------------------------*- C++ -*----------------------------------*\
| Force coefficients file for calculating drag, lift, and moment              |
\*---------------------------------------------------------------------------*/
FoamFile
{
  version   2.0;
  format    ascii;
  arch      "LSB;label=32;scalar=64";
  class     dictionary;
  location  "system";
  object    forceCoeffs;
}
//===========================================================================//
#include "../VarParams"

forces
{
  type            forceCoeffs;
  functionObjectLibs ("libforces.so");

  patches         (diamondWall);

  // Lift direction (normal to the AirFlow, eg in y-direction):
  liftDir         (0 1 0);

  // Drag direction (along the AirFlow, eg in x-direction):
  dragDir         (1 0 0);

  // Reference point for moment calculation: set it to the center of the
  // Diamond:
  pRefPoint       (5 3 0.5);

  // Air density at reference conditions (kg/m3), adjust as needed.
  // XXX: other air properties are in constant/transportProperties:
  rhoInf          $__rho0__;

  // Center of rotation, typically at the object's center:
  CofR            (5 3 0.5);

  // Log forces to the terminal and output to file:
  log             true;

  // Log forces at each timestep (XXX: but we have no time dependency):
  outputControl   timeStep;

  // Output interval (set to 1 to output at every timestep):
  outputInterval  1;

  writeControl    timeStep;

  // Writing data every timestep (but we have only 1 timestep):
  writeInterval   1;

  // Params for determining the Lift and Drag coefficients:
  // XXX: "magUInf" must be consistent with the values given in "0/U":
  magUInf         $__Uoo__;

  // XXX: "Aref" is the Characteristic Area, used in the Lift and Drag coeffs
  // computation. We neglect the Y-thickness of the Diamond, and provide the
  // Area in the XZ plane. The value must be consistent with the geometry
  // specified in "constant/polyMesh/blockMeshDict":
  Aref            1;

  // XXX: "lRef" is a Characteristic Length (in our case, the Chord) used in
  // computation of the Moment Coefficient; again, it must be consistent with
  // the geometry specified in "constant/polyMesh/blockMeshDict":
  lRef            1;
}
